{% trans_default_domain "LchMenuBundle" %}
{% block lch_menu_tree_widget %}
    {% set rand = random() %}
    <script>
        var data_{{ rand }} = {{ form.vars.value ? form.vars.value|raw : '""' }};
    </script>
    <div class="col-xs-12 col-md-2">
        <label>{{ translation_domain is same as(false) ? label : label|trans({}, translation_domain) }}</label>
        <p class="helper {% if(form.parent.parent != null and (form.parent.vars.attr.force_two_columns_presentation is not defined)) %}text-right{% endif %}">
            <i class="glyphicon glyphicon-question-sign"></i>
        </p>
    </div>
    <div class="menu-tree-container col-xs-12 col-md-10"
         data-rand="{{ rand }}">
            <input type="hidden"
                   data-rand="{{ rand }}"
                   name="{{ form.vars.full_name }}"
                   value=""/>

        <div data-rand="{{ rand }}" class="menu-tree"></div>
        <button data-rand="{{ rand }}" class="btn btn-default add-node"><i class="glyphicon glyphicon-plus"></i>{{ "lch.menu.form.tree.add"|trans }}</button>

        <div id="edit-modal-{{ rand }}" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Modifier l'item</h4>
                    </div>
                    <div class="modal-body clearfix">
                        <div class="col-xs-12">
                            <input type="text" name="menu-item-title" class="form-control" value="" placeholder="Le nom du lien"/>
                        </div>
                        <div class="col-xs-12">
                            <input type="text" name="menu-item-target" class="form-control" value="" placeholder="La cible du lien"/>
                        </div>
                        <div class="col-xs-12">
                            <input type="text" name="menu-item-tags" class="form-control" value="" placeholder="Les tags Ã  usage technique"/>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary save"><i class="glyphicon glyphicon-save"></i>Enregistrer</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
    </div>

{% endblock %}